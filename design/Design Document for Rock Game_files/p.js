function embedpage(C){var B="";var A=new Request({url:C,method:"get",async:false,onSuccess:function(E){var F=E.indexOf("<!--gc-->");var D=E.indexOf("<!--/gc-->");B+=E.substring(F,D);$("articlebody").set("html",$("articlebody").get("html")+B)}}).send()}function getPage(A){var B=new Request.HTML().get(A);alert(B)}function getImage(C){var B;if(B=C.match(/<div (class="imgwrapper"|id="sspre")>.*<\/div>/g)){B=String(B);var A=Array(B.match(/<img src="[^"]*" alt="[^"]*?">/g),B.match(/<p class="caption">.*<\/p>/g),B.match(/<cite>.*<\/cite>/g),B.match(/<h2>.*<\/h2>/g),B.match(/<h4>.*<\/h4>/g));return A}return false}function getBaseURL(A){var C=/[_\.]\d{1,2}\.htm$/;var B=A.replace(C,".htm");return B}function getFullArticle(F,B,E){var B=base=getBaseURL(B);var G="_";var D=2;var C=F+1;if(E=="3"){G=".";D=1;C=F}$("articlebody").set("html","");for(D;D<=C;D++){embedpage(B);var H=base.indexOf(".htm");var A=(D<10&&G==".")?"0":"";B=base.substring(0,H)+G+A+D+".htm"}return true}function makeFootnotes(){a=gEI("articlebody");links=a.getElementsByTagName("a");if(links.length==0){return }var C=document.createElement("h3");var B=document.createTextNode("Links in this article:");C.appendChild(B);var E=document.createElement("ol");var A=1;for(var F=0;F<links.length;F++){if(links[F].getAttribute("href").indexOf("#")==0){continue}var D=document.createElement("sup");B=document.createTextNode(A);D.appendChild(B);links[F].parentNode.insertBefore(D,links[F].nextSibling);li=document.createElement("li");if(links[F].getAttribute("href").indexOf("/")==0){B=document.createTextNode(location.protocol+"//"+location.host+links[F].getAttribute("href"))}else{B=document.createTextNode(links[F].getAttribute("href"))}li.appendChild(B);E.appendChild(li);A++}var G=document.createElement("hr");var H=document.createElement("div");H.id="linklist";H.appendChild(G);H.appendChild(C);H.appendChild(E);c=gEI("abc");c.appendChild(H)};